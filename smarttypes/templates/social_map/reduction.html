<!DOCTYPE html> 



<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:py="http://genshi.edgewall.org/"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    lang="en">

<xi:include href="../master.html" />

<head>
    <?python 
        root_user = reduction.root_user()
        communities = reduction.communities()
    ?>
    <script src="/static/js/social_map.js" type="text/javascript"></script>
    <style type="text/css">
        div#social_map{
            background-image:url('/static/images/maps/${root_user.screen_name}.png');
            height:600px;
            width:600px;
            margin:0 auto;
            background-size:100% 100%;
        }
        ul.posts li {margin:15px 0;}
    </style>
</head>                    

<body>

    <div style="text-align:center;">

        <h2>
            Social map for ${root_user.screen_name}, ${len(communities)} communities!
        </h2>

        <div id="social_map">
        </div>

        <p>
	        <ul class="posts" style="list-style:none;margin:10px 0;">
	        	<li py:for="community in communities">
	        		<a href="/social_map/community?community_id=${community.id}">View members</a> -- 
                    ${len(community.member_ids)} members --
	            	${', '.join(community.tag_cloud[:5])}
	        	</li>
	    	</ul>
    	</p>

    </div>

</body>                                    
</html>

